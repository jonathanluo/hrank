#!/bin/bash

cd `dirname $0`/..
EXAMPLES_DIR=`pwd`
EXAMPLE_PATH_BEGIN=com/tangosol/examples
COHERENCE_HOME=$EXAMPLES_DIR/../..

. ./bin/function_set_example_env
. ./bin/function_set_env

set_example_env $1
set_env

# Perform build
echo building $EXAMPLE from $EXAMPLE_PATH ...

mkdir -p $CLASSES_DIR
$JAVA_HOME/bin/javac -d $CLASSES_DIR -source 1.8 -cp $CP $(find $EXAMPLES_DIR/src/$POF_PATH -name "*.java")
$JAVA_HOME/bin/javac -d $CLASSES_DIR -source 1.8 -cp $CP $(find $EXAMPLES_DIR/src/$EXAMPLE_PATH -name "*.java")

echo "Please refer to readme.txt for instructions on how to run the $EXAMPLE example"
